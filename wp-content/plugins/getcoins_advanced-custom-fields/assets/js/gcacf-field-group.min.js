!function(o,e){var t=new gcacf.Model({id:"fieldGroupManager",events:{"submit #post":"onSubmit",'click a[href="#"]':"onClick","click .submitdelete":"onClickTrash"},filters:{find_fields_args:"filterFindFieldArgs"},onSubmit:function(e,t){var i=o("#titlewrap #title");i.val()||(e.preventDefault(),gcacf.unlockForm(t),alert(gcacf.__("Field group title is required")),i.focus())},onClick:function(e){e.preventDefault()},onClickTrash:function(e){var t;confirm(gcacf.__("Move to trash. Are you sure?"))||e.preventDefault()},filterFindFieldArgs:function(e){return e.visible=!0,e}}),i=new gcacf.Model({id:"screenOptionsManager",wait:"prepare",events:{change:"onChange"},initialize:function(){var e=o("#adv-settings"),t=o("#gcacf-append-show-on-screen");e.find(".metabox-prefs").append(t.html()),e.find(".metabox-prefs br").remove(),t.remove(),this.$el=o("#gcacf-field-key-hide"),this.render()},isChecked:function(){return this.$el.prop("checked")},onChange:function(e,t){var i=this.isChecked()?1:0;gcacf.updateUserSetting("show_field_keys",i),this.render()},render:function(){this.isChecked()?o("#gcacf-field-group-fields").addClass("show-field-keys"):o("#gcacf-field-group-fields").removeClass("show-field-keys")}}),n=new gcacf.Model({actions:{new_field:"onNewField"},onNewField:function(e){if(e.has("append")){var t=e.get("append"),i=e.$el.siblings('[data-name="'+t+'"]').first();if(i.length){var n=i.children(".gcacf-input"),a=n.children("ul");a.length||(n.wrapInner('<ul class="gcacf-hl"><li></li></ul>'),a=n.children("ul"));var c=e.$(".gcacf-input").html(),l=o("<li>"+c+"</li>");a.append(l),a.attr("data-cols",a.children().length),e.remove()}}}})}(jQuery),function(s,i){gcacf.FieldObject=gcacf.Model.extend({eventScope:".gcacf-field-object",events:{"click .edit-field":"onClickEdit","click .delete-field":"onClickDelete","click .duplicate-field":"duplicate","click .move-field":"move","change .field-type":"onChangeType","change .field-required":"onChangeRequired","blur .field-label":"onChangeLabel","blur .field-name":"onChangeName",change:"onChange",changed:"onChanged"},data:{id:0,key:"",type:""},setup:function(e){this.$el=e,this.inherit(e),this.prop("ID"),this.prop("parent"),this.prop("menu_order")},$input:function(e){return s("#"+this.getInputId()+"-"+e)},$meta:function(){return this.$(".meta:first")},$handle:function(){return this.$(".handle:first")},$settings:function(){return this.$(".settings:first")},$setting:function(e){return this.$(".gcacf-field-settings:first > .gcacf-field-setting-"+e)},getParent:function(){return gcacf.getFieldObjects({child:this.$el,limit:1}).pop()},getParents:function(){return gcacf.getFieldObjects({child:this.$el})},getFields:function(){return gcacf.getFieldObjects({parent:this.$el})},getInputName:function(){return"gcacf_fields["+this.get("id")+"]"},getInputId:function(){return"gcacf_fields-"+this.get("id")},newInput:function(e,t){var i=this.getInputId(),n=this.getInputName();e&&(i+="-"+e,n+="["+e+"]");var a=s("<input />").attr({id:i,name:n,value:t});return this.$("> .meta").append(a),a},getProp:function(e){if(this.has(e))return this.get(e);var t=this.$input(e),i=t.length?t.val():null;return this.set(e,i,!0),i},setProp:function(e,t){var i=this.$input(e),n=i.val();return i.length||(i=this.newInput(e,t)),null===t?i.remove():i.val(t),this.has(e)?this.set(e,t):this.set(e,t,!0),this},prop:function(e,t){return t!==i?this.setProp(e,t):this.getProp(e)},props:function(t){Object.keys(t).map(function(e){this.setProp(e,t[e])},this)},getLabel:function(){var e=this.prop("label");return""===e&&(e=gcacf.__("(no label)")),e},getName:function(){return this.prop("name")},getType:function(){return this.prop("type")},getTypeLabel:function(){var e=this.prop("type"),t=gcacf.get("fieldTypes");return t[e]?t[e].label:e},getKey:function(){return this.prop("key")},initialize:function(){},render:function(){var e=this.$(".handle:first"),t=this.prop("menu_order"),i=this.getLabel(),n=this.prop("name"),a=this.getTypeLabel(),c=this.prop("key"),l=this.$input("required").prop("checked");e.find(".gcacf-icon").html(parseInt(t)+1),l&&(i+=' <span class="gcacf-required">*</span>'),e.find(".li-field-label strong a").html(i),e.find(".li-field-name").text(n),e.find(".li-field-type").text(a),e.find(".li-field-key").text(c),gcacf.doAction("render_field_object",this)},refresh:function(){gcacf.doAction("refresh_field_object",this)},isOpen:function(){return this.$el.hasClass("open")},onClickEdit:function(e){this.isOpen()?this.close():this.open()},open:function(){var e=this.$el.children(".settings");e.slideDown(),this.$el.addClass("open"),gcacf.doAction("open_field_object",this),this.trigger("openFieldObject"),gcacf.doAction("show",e)},close:function(){var e=this.$el.children(".settings");e.slideUp(),this.$el.removeClass("open"),gcacf.doAction("close_field_object",this),this.trigger("closeFieldObject"),gcacf.doAction("hide",e)},serialize:function(){return gcacf.serialize(this.$el,this.getInputName())},save:function(e){var t;e=e||"settings","settings"!==this.getProp("save")&&(this.setProp("save",e),this.$el.attr("data-save",e),gcacf.doAction("save_field_object",this,e))},submit:function(){var e=this.getInputName(),t=this.get("save");this.isOpen()&&this.close(),"settings"==t||("meta"==t?this.$('> .settings [name^="'+e+'"]').remove():this.$('[name^="'+e+'"]').remove()),gcacf.doAction("submit_field_object",this)},onChange:function(e,t){this.save(),gcacf.doAction("change_field_object",this)},onChanged:function(e,t,i,n){"save"!=i&&(-1<["menu_order","parent"].indexOf(i)?this.save("meta"):this.save(),-1<["menu_order","label","required","name","type","key"].indexOf(i)&&this.render(),gcacf.doAction("change_field_object_"+i,this,n))},onChangeLabel:function(e,t){var i=t.val();if(this.set("label",i),""==this.prop("name")){var n=gcacf.applyFilters("generate_field_object_name",gcacf.strSanitize(i),this);this.prop("name",n)}},onChangeName:function(e,t){var i=t.val();this.set("name",i),"field_"===i.substr(0,6)&&alert(gcacf.__('The string "field_" may not be used at the start of a field name'))},onChangeRequired:function(e,t){var i=t.prop("checked")?1:0;this.set("required",i)},delete:function(e){e=gcacf.parseArgs(e,{animate:!0});var t=this.prop("ID");if(t){var i=s("#_gcacf_delete_fields"),n=i.val()+"|"+t;i.val(n)}gcacf.doAction("delete_field_object",this),e.animate?this.removeAnimate():this.remove()},onClickDelete:function(e,t){this.$el.addClass("-hover");var i=this,n=gcacf.newTooltip({confirmRemove:!0,target:t,confirm:function(){i.delete(!0)},cancel:function(){i.$el.removeClass("-hover")}})},removeAnimate:function(){var e=this,t=this.$el.parent(),i=gcacf.findFieldObjects({sibling:this.$el});gcacf.remove({target:this.$el,endHeight:i.length?0:50,complete:function(){e.remove(),gcacf.doAction("removed_field_object",e,t)}}),gcacf.doAction("remove_field_object",e,t)},duplicate:function(){var e=gcacf.uniqid("field_"),t=gcacf.duplicate({target:this.$el,search:this.get("id"),replace:e});t.attr("data-key",e);var i=gcacf.getFieldObject(t);this.isOpen()?this.close():i.open();var n=i.$setting("label input");setTimeout(function(){n.focus()},251);var a=i.prop("label"),c=i.prop("name"),l=c.split("_").pop(),o=gcacf.__("copy");if(s.isNumeric(l)){var r=1*l+1;a=a.replace(l,r),c=c.replace(l,r)}else if(0===l.indexOf(o)){var r;r=(r=1*l.replace(o,""))?r+1:2,a=a.replace(l,o+r),c=c.replace(l,o+r)}else a+=" ("+o+")",c+="_"+o;i.prop("ID",0),i.prop("label",a),i.prop("name",c),i.prop("key",e),gcacf.doAction("duplicate_field_object",this,i),gcacf.doAction("append_field_object",i)},wipe:function(){var e=this.get("id"),t=this.get("key"),i=gcacf.uniqid("field_");gcacf.rename({target:this.$el,search:e,replace:i}),this.set("id",i),this.set("prevId",e),this.set("prevKey",t),this.prop("key",i),this.prop("ID",0),this.$el.attr("data-key",i),this.$el.attr("data-id",i),gcacf.doAction("wipe_field_object",this)},move:function(){var t=function(e){return"settings"==e.get("save")},i=t(this);if(i||gcacf.getFieldObjects({parent:this.$el}).map(function(e){i=t(e)||e.changed}),i)alert(gcacf.__("This field cannot be moved until its changes have been saved"));else{var n=this.prop("ID"),a=this,c=!1,e=function(){c=gcacf.newPopup({title:gcacf.__("Move Custom Field"),loading:!0,width:"300px"});var e={action:"gcacf/field_group/move_field",field_id:n};s.ajax({url:gcacf.get("ajaxurl"),data:gcacf.prepareForAjax(e),type:"post",dataType:"html",success:l})},l=function(e){c.loading(!1),c.content(e),c.on("submit","form",o)},o=function(e,t){e.preventDefault(),gcacf.startButtonLoading(c.$(".button"));var i={action:"gcacf/field_group/move_field",field_id:n,field_group_id:c.$("select").val()};s.ajax({url:gcacf.get("ajaxurl"),data:gcacf.prepareForAjax(i),type:"post",dataType:"html",success:r})},r=function(e){c.content(e),a.removeAnimate()};e()}},onChangeType:function(e,t){this.changeTimeout&&clearTimeout(this.changeTimeout),this.changeTimeout=this.setTimeout(function(){this.changeType(t.val())},300)},changeType:function(e){var t=this.prop("type"),i=gcacf.strSlugify("gcacf-field-object-"+t),n=gcacf.strSlugify("gcacf-field-object-"+e);this.$el.removeClass(i).addClass(n),this.$el.attr("data-type",e),this.$el.data("type",e),this.has("xhr")&&this.get("xhr").abort();var a=this.$("> .settings > table > tbody"),c=a.children('[data-setting="'+t+'"]');if(this.set("settings-"+t,c),c.detach(),this.has("settings-"+e)){var l=this.get("settings-"+e);return this.$setting("conditional_logic").before(l),void this.set("type",e)}var o=s('<tr class="gcacf-field"><td class="gcacf-label"></td><td class="gcacf-input"><div class="gcacf-loading"></div></td></tr>');this.$setting("conditional_logic").before(o);var r={action:"gcacf/field_group/render_field_settings",field:this.serialize(),prefix:this.getInputName()},d=s.ajax({url:gcacf.get("ajaxurl"),data:gcacf.prepareForAjax(r),type:"post",dataType:"html",context:this,success:function(e){e&&(o.after(e),gcacf.doAction("append",a))},complete:function(){o.remove(),this.set("type",e)}});this.set("xhr",d)},updateParent:function(){var e=gcacf.get("post_id"),t=this.getParent();t&&(e=parseInt(t.prop("ID"))||t.prop("key")),this.prop("parent",e)}})}(jQuery),function(i,e){var l=function(e){return gcacf.strPascalCase(e||"")+"FieldSetting"};gcacf.registerFieldSetting=function(e){var t=e.prototype,i=l(t.type+" "+t.name);this.models[i]=e},gcacf.newFieldSetting=function(e){var t=e.get("setting")||"",i=e.get("name")||"",n=l(t+" "+i),a=gcacf.models[n]||null,c;return null!==a&&new a(e)},gcacf.getFieldSetting=function(e){return e instanceof jQuery&&(e=gcacf.getField(e)),e.setting};var t=new gcacf.Model({actions:{new_field:"onNewField"},onNewField:function(e){e.setting=gcacf.newFieldSetting(e)}});gcacf.FieldSetting=gcacf.Model.extend({field:!1,type:"",name:"",wait:"ready",eventScope:".gcacf-field",events:{change:"render"},setup:function(e){var t=e.$el;this.$el=t,this.field=e,this.$fieldObject=t.closest(".gcacf-field-object"),this.fieldObject=gcacf.getFieldObject(this.$fieldObject),i.extend(this.data,e.data)},initialize:function(){this.render()},render:function(){}});var n=gcacf.FieldSetting.extend({type:"",name:"",render:function(){var e=this.$('input[type="radio"]:checked');"other"!=e.val()&&this.$('input[type="text"]').val(e.val())}}),a=n.extend({type:"date_picker",name:"display_format"}),c=n.extend({type:"date_picker",name:"return_format"});gcacf.registerFieldSetting(a),gcacf.registerFieldSetting(c);var o=n.extend({type:"date_time_picker",name:"display_format"}),r=n.extend({type:"date_time_picker",name:"return_format"});gcacf.registerFieldSetting(o),gcacf.registerFieldSetting(r);var d=n.extend({type:"time_picker",name:"display_format"}),s=n.extend({name:"time_picker",name:"return_format"});gcacf.registerFieldSetting(d),gcacf.registerFieldSetting(s)}(jQuery),function(d,e){var t=gcacf.FieldSetting.extend({type:"",name:"conditional_logic",events:{"change .conditions-toggle":"onChangeToggle","click .add-conditional-group":"onClickAddGroup","focus .condition-rule-field":"onFocusField","change .condition-rule-field":"onChangeField","change .condition-rule-operator":"onChangeOperator","click .add-conditional-rule":"onClickAdd","click .remove-conditional-rule":"onClickRemove"},$rule:!1,scope:function(e){return this.$rule=e,this},ruleData:function(e,t){return this.$rule.data.apply(this.$rule,arguments)},$input:function(e){return this.$rule.find(".condition-rule-"+e)},$td:function(e){return this.$rule.find("td."+e)},$toggle:function(){return this.$(".conditions-toggle")},$control:function(){return this.$(".rule-groups")},$groups:function(){return this.$(".rule-group")},$rules:function(){return this.$(".rule")},open:function(){var e=this.$control();e.show(),gcacf.enable(e)},close:function(){var e=this.$control();e.hide(),gcacf.disable(e)},render:function(){this.$toggle().prop("checked")?(this.renderRules(),this.open()):this.close()},renderRules:function(){var e=this;this.$rules().each(function(){e.renderRule(d(this))})},renderRule:function(e){this.scope(e),this.renderField(),this.renderOperator(),this.renderValue()},renderField:function(){var a=[],e=[],c=this.fieldObject.cid,t=this.$input("field");gcacf.getFieldObjects().map(function(e){var t={id:e.getKey(),text:e.getLabel()},i;e.cid===c&&(t.text+=gcacf.__("(this field)"),t.disabled=!0),gcacf.getConditionTypes({fieldType:e.getType()}).length||(t.disabled=!0);var n=e.getParents().length;t.text="- ".repeat(n)+t.text,a.push(t)}),a.length||a.push({id:"",text:gcacf.__("No toggle fields available")}),gcacf.renderSelect(t,a),this.ruleData("field",t.val())},renderOperator:function(){if(this.ruleData("field")){var e=this.$input("operator"),t=e.val(),i=[];null===e.val()&&gcacf.renderSelect(e,[{id:this.ruleData("operator"),text:""}]);var n=gcacf.findFieldObject(this.ruleData("field")),a=gcacf.getFieldObject(n),c;gcacf.getConditionTypes({fieldType:a.getType()}).map(function(e){i.push({id:e.prototype.operator,text:gcacf.strEscape(e.prototype.label)})}),gcacf.renderSelect(e,i),this.ruleData("operator",e.val())}},renderValue:function(){if(this.ruleData("field")&&this.ruleData("operator")){var t=this.$input("value"),e=this.$td("value"),i=t.val(),n=gcacf.findFieldObject(this.ruleData("field")),a=gcacf.getFieldObject(n),c,l,o=gcacf.getConditionTypes({fieldType:a.getType(),operator:this.ruleData("operator")})[0].prototype.choices(a);if(o instanceof Array){var r=d("<select></select>");gcacf.renderSelect(r,o)}else var r=d(o);t.detach(),e.html(r),setTimeout(function(){["class","name","id"].map(function(e){r.attr(e,t.attr(e))})},0),r.prop("disabled")||gcacf.val(r,i,!0),this.ruleData("value",r.val())}},onChangeToggle:function(){this.render()},onClickAddGroup:function(e,t){this.addGroup()},addGroup:function(){var e=this.$(".rule-group:last"),t=gcacf.duplicate(e);t.find("h4").text(gcacf.__("or")),t.find("tr").not(":first").remove(),this.fieldObject.save()},onFocusField:function(e,t){this.renderField()},onChangeField:function(e,t){this.scope(t.closest(".rule")),this.ruleData("field",t.val()),this.renderOperator(),this.renderValue()},onChangeOperator:function(e,t){this.scope(t.closest(".rule")),this.ruleData("operator",t.val()),this.renderValue()},onClickAdd:function(e,t){var i=gcacf.duplicate(t.closest(".rule"));this.renderRule(i)},onClickRemove:function(e,t){var i=t.closest(".rule");this.fieldObject.save(),0==i.siblings(".rule").length&&i.closest(".rule-group").remove(),i.remove()}});gcacf.registerFieldSetting(t);var i=new gcacf.Model({actions:{duplicate_field_objects:"onDuplicateFieldObjects"},onDuplicateFieldObjects:function(e,t,i){var n={},a=d();e.map(function(e){n[e.get("prevKey")]=e.get("key"),a=a.add(e.$(".condition-rule-field"))}),a.each(function(){var e=d(this),t=e.val();t&&n[t]&&(e.find("option:selected").attr("value",n[t]),e.val(n[t]))})}})}(jQuery),function(r,e){gcacf.findFieldObject=function(e){return gcacf.findFieldObjects({key:e,limit:1})},gcacf.findFieldObjects=function(e){e=e||{};var t=".gcacf-field-object",i=!1;return(e=gcacf.parseArgs(e,{id:"",key:"",type:"",limit:!1,list:null,parent:!1,sibling:!1,child:!1})).id&&(t+='[data-id="'+e.id+'"]'),e.key&&(t+='[data-key="'+e.key+'"]'),e.type&&(t+='[data-type="'+e.type+'"]'),i=e.list?e.list.children(t):e.parent?e.parent.find(t):e.sibling?e.sibling.siblings(t):e.child?e.child.parents(t):r(t),e.limit&&(i=i.slice(0,e.limit)),i},gcacf.getFieldObject=function(e){"string"==typeof e&&(e=gcacf.findFieldObject(e));var t=e.data("gcacf");return t||(t=gcacf.newFieldObject(e)),t},gcacf.getFieldObjects=function(e){var t=gcacf.findFieldObjects(e),i=[];return t.each(function(){var e=gcacf.getFieldObject(r(this));i.push(e)}),i},gcacf.newFieldObject=function(e){var t=new gcacf.FieldObject(e);return gcacf.doAction("new_field_object",t),t};var t=new gcacf.Model({priority:5,initialize:function(){var e;["prepare","ready","append","remove"].map(function(e){this.addFieldActions(e)},this)},addFieldActions:function(e){var n=e+"_field_objects",a=e+"_field_object",c=e+"FieldObject",t=function(e){var t=gcacf.getFieldObjects({parent:e});if(t.length){var i=gcacf.arrayArgs(arguments);i.splice(0,1,n,t),gcacf.doAction.apply(null,i)}},i=function(e){var t=gcacf.arrayArgs(arguments);t.unshift(a),e.map(function(e){t[1]=e,gcacf.doAction.apply(null,t)})},l=function(t){var i=gcacf.arrayArgs(arguments),e;i.unshift(a),["type","name","key"].map(function(e){i[0]=a+"/"+e+"="+t.get(e),gcacf.doAction.apply(null,i)}),i.splice(0,2),t.trigger(c,i)};gcacf.addAction(e,t,5),gcacf.addAction(n,i,5),gcacf.addAction(a,l,5)}}),i=new gcacf.Model({id:"fieldManager",events:{"submit #post":"onSubmit","mouseenter .gcacf-field-list":"onHoverSortable","click .add-field":"onClickAdd"},actions:{removed_field_object:"onRemovedField",sortstop_field_object:"onReorderField",delete_field_object:"onDeleteField",change_field_object_type:"onChangeFieldType",duplicate_field_object:"onDuplicateField"},onSubmit:function(e,t){var i;gcacf.getFieldObjects().map(function(e){e.submit()})},setFieldMenuOrder:function(e){this.renderFields(e.$el.parent())},onHoverSortable:function(e,n){n.hasClass("ui-sortable")||n.sortable({handle:".gcacf-sortable-handle",connectWith:".gcacf-field-list",start:function(e,t){var i=gcacf.getFieldObject(t.item);t.placeholder.height(t.item.height()),gcacf.doAction("sortstart_field_object",i,n)},update:function(e,t){var i=gcacf.getFieldObject(t.item);gcacf.doAction("sortstop_field_object",i,n)}})},onRemovedField:function(e,t){this.renderFields(t)},onReorderField:function(e,t){e.updateParent(),this.renderFields(t)},onDeleteField:function(e){e.getFields().map(function(e){e.delete({animate:!1})})},onChangeFieldType:function(e){},onDuplicateField:function(e,t){var i=t.getFields();i.length&&(i.map(function(e){e.wipe(),e.updateParent()}),gcacf.doAction("duplicate_field_objects",i,t,e)),this.setFieldMenuOrder(t)},renderFields:function(e){var t=gcacf.getFieldObjects({list:e});t.length?(e.removeClass("-empty"),t.map(function(e,t){e.prop("menu_order",t)})):e.addClass("-empty")},onClickAdd:function(e,t){var i=t.closest(".gcacf-tfoot").siblings(".gcacf-field-list");this.addField(i)},addField:function(i){var e=r("#tmpl-gcacf-field").html(),t=r(e),n=t.data("id"),a=gcacf.uniqid("field_"),c=gcacf.duplicate({target:t,search:n,replace:a,append:function(e,t){i.append(t)}}),l=gcacf.getFieldObject(c);l.prop("key",a),l.prop("ID",0),l.prop("label",""),l.prop("name",""),c.attr("data-key",a),c.attr("data-id",a),l.updateParent();var o=l.$input("label");setTimeout(function(){o.focus()},251),l.open(),this.renderFields(i),gcacf.doAction("add_field_object",l),gcacf.doAction("append_field_object",l)}})}(jQuery),function(a,e){var t=new gcacf.Model({id:"locationManager",wait:"ready",events:{"click .add-location-rule":"onClickAddRule","click .add-location-group":"onClickAddGroup","click .remove-location-rule":"onClickRemoveRule","change .refresh-location-rule":"onChangeRemoveRule"},initialize:function(){this.$el=a("#gcacf-field-group-locations")},onClickAddRule:function(e,t){this.addRule(t.closest("tr"))},onClickRemoveRule:function(e,t){this.removeRule(t.closest("tr"))},onChangeRemoveRule:function(e,t){this.changeRule(t.closest("tr"))},onClickAddGroup:function(e,t){this.addGroup()},addRule:function(e){gcacf.duplicate(e)},removeRule:function(e){0==e.siblings("tr").length?e.closest(".rule-group").remove():e.remove()},changeRule:function(t){var e=t.closest(".rule-group"),i=t.find("td.param select").attr("name").replace("[param]",""),n={action:"gcacf/field_group/render_location_rule"};n.rule=gcacf.serialize(t,i),n.rule.id=t.data("id"),n.rule.group=e.data("id"),gcacf.disable(t.find("td.value")),a.ajax({url:gcacf.get("ajaxurl"),data:gcacf.prepareForAjax(n),type:"post",dataType:"html",success:function(e){e&&t.replaceWith(e)}})},addGroup:function(){var e=this.$(".rule-group:last");$group2=gcacf.duplicate(e),$group2.find("h4").text(gcacf.__("or")),$group2.find("tr").not(":first").remove()}})}(jQuery),function(l,i){var e=gcacf.getCompatibility(gcacf);e.field_group={save_field:function(e,t){t=t!==i?t:"settings",gcacf.getFieldObject(e).save(t)},delete_field:function(e,t){t=t===i||t,gcacf.getFieldObject(e).delete({animate:t})},update_field_meta:function(e,t,i){gcacf.getFieldObject(e).prop(t,i)},delete_field_meta:function(e,t){gcacf.getFieldObject(e).prop(t,null)}},e.field_group.field_object=gcacf.model.extend({type:"",o:{},$field:null,$settings:null,tag:function(e){var t=this.type,i=e.split("_");return i.splice(1,0,"field"),e=i.join("_"),t&&(e+="/type="+t),e},selector:function(){var e=".gcacf-field-object",t=this.type;return t&&(e+="-"+t,e=gcacf.str_replace("_","-",e)),e},_add_action:function(e,t){var i=this;gcacf.add_action(this.tag(e),function(e){i.set("$field",e),i[t].apply(i,arguments)})},_add_filter:function(e,t){var i=this;gcacf.add_filter(this.tag(e),function(e){i.set("$field",e),i[t].apply(i,arguments)})},_add_event:function(e,t){var i=this,n=e.substr(0,e.indexOf(" ")),a=e.substr(e.indexOf(" ")+1),c=this.selector();l(document).on(n,c+" "+a,function(e){e.$el=l(this),e.$field=e.$el.closest(".gcacf-field-object"),i.set("$field",e.$field),i[t].apply(i,[e])})},_set_$field:function(){this.o=this.$field.data(),this.$settings=this.$field.find("> .settings > table > tbody"),this.focus()},focus:function(){},setting:function(e){return this.$settings.find("> .gcacf-field-setting-"+e)}});var t=new gcacf.Model({actions:{open_field_object:"onOpenFieldObject",close_field_object:"onCloseFieldObject",add_field_object:"onAddFieldObject",duplicate_field_object:"onDuplicateFieldObject",delete_field_object:"onDeleteFieldObject",change_field_object_type:"onChangeFieldObjectType",change_field_object_label:"onChangeFieldObjectLabel",change_field_object_name:"onChangeFieldObjectName",change_field_object_parent:"onChangeFieldObjectParent",sortstop_field_object:"onChangeFieldObjectParent"},onOpenFieldObject:function(e){gcacf.doAction("open_field",e.$el),gcacf.doAction("open_field/type="+e.get("type"),e.$el),gcacf.doAction("render_field_settings",e.$el),gcacf.doAction("render_field_settings/type="+e.get("type"),e.$el)},onCloseFieldObject:function(e){gcacf.doAction("close_field",e.$el),gcacf.doAction("close_field/type="+e.get("type"),e.$el)},onAddFieldObject:function(e){gcacf.doAction("add_field",e.$el),gcacf.doAction("add_field/type="+e.get("type"),e.$el)},onDuplicateFieldObject:function(e){gcacf.doAction("duplicate_field",e.$el),gcacf.doAction("duplicate_field/type="+e.get("type"),e.$el)},onDeleteFieldObject:function(e){gcacf.doAction("delete_field",e.$el),gcacf.doAction("delete_field/type="+e.get("type"),e.$el)},onChangeFieldObjectType:function(e){gcacf.doAction("change_field_type",e.$el),gcacf.doAction("change_field_type/type="+e.get("type"),e.$el),gcacf.doAction("render_field_settings",e.$el),gcacf.doAction("render_field_settings/type="+e.get("type"),e.$el)},onChangeFieldObjectLabel:function(e){gcacf.doAction("change_field_label",e.$el),gcacf.doAction("change_field_label/type="+e.get("type"),e.$el)},onChangeFieldObjectName:function(e){gcacf.doAction("change_field_name",e.$el),gcacf.doAction("change_field_name/type="+e.get("type"),e.$el)},onChangeFieldObjectParent:function(e){gcacf.doAction("update_field_parent",e.$el)}})}(jQuery);